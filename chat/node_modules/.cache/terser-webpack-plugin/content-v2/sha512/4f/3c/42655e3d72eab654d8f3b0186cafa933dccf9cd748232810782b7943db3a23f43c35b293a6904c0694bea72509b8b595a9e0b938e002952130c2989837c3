{"map":{"version":3,"sources":["static/js/main.5505f30a.chunk.js"],"names":["this","push","105","module","exports","__webpack_require__","110","152","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","Boolean","window","location","hostname","match","react_router_dom","react_router","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","possibleConstructorReturn","getPrototypeOf","inherits","defineProperty","Style","theme","main","Object","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","concat","form","submit","hasAccountHeader","logInLink","textDecoration","color","fontWeight","errorText","textAlign","FormControl","InputLabel","Input","Paper","withStyles","withStyles_default","CssBaseline","Typography","Button","firebase","Login_LoginComponent","_React$Component","LoginComponent","_this","call","userTyping","whichInput","event","setState","email","target","value","password","submitLogin","_ref","a","mark","_callee","e","wrap","_context","prev","next","preventDefault","auth","signInWithEmailAndPassword","state","then","props","history","err","serverError","console","log","stop","_x","apply","arguments","key","_this2","classes","createElement","className","component","variant","onSubmit","required","fullWidth","margin","htmlFor","autoComplete","autoFocus","onChange","id","type","noAccountHeader","signUpLink","to","Component","Login","Singup_Style","Singup_firebase","Singup_SignupComponent","SignupComponent","passwordConfirmation","formIsValid","submitSignup","createUserWithEmailAndPassword","authRes","userObj","user","friends","messages","firestore","collection","doc","set","dbErr","signupError","authErr","Singup","styles_withStyles","NewChat_Style","position","top","left","input","NewChat_firebase","NewChat_NewChatComponent","NewChatComponent","inputType","username","message","submitNewChat","userExists","sent","chatExists","goToChat","createChat","buildDocKey","currentUser","sort","join","newChatSubmitFn","sendTo","goToChatFn","_callee2","docKey","chat","_context2","get","exists","abrupt","_callee3","usersSnapshot","_context3","docs","map","_doc","data","includes","NewChat","List","ListItem","ListItemText","ListItemAvatar","Avatar","ChatList_Style","root","backgroundColor","palette","background","height","boxShadow","listItem","cursor","newChatBtn","borderRadius","unreadMessage","right","Divider","ListItemIcon","NotificationImportant","NotificationImportant_default","ChatList_ChatListComponent","ChatListComponent","_getPrototypeOf2","_len","length","args","Array","_key","userIsSender","sender","userEmail","newChat","newChatBtnFn","selectChat","index","selectChatFn","chats","onClick","_chat","_index","selected","selectedChatIndex","alt","users","filter","_user","split","primary","secondary","Fragment","substring","receiverHasRead","ChatList","ChatViev_Style","content","overflow","boxSizing","overflowY","userSent","float","clear","wordWrap","friendSent","chatHeader","fontSize","paddingTop","Chatviev_ChatViewComponent","ChatViewComponent","componentDidMount","container","document","getElementById","scrollTo","scrollHeight","componentDidUpdate","undefined","_usr","_msg","Chatviev","TextField","Send","Send_default","ChatTextBox_Style","sendBtn","&:hover","chatTextBoxContainer","bottom","chatTextBox","ChatTextBox_ChatTextBoxComponent","ChatTextBoxComponent","keyCode","submitMessage","chatText","messageValid","txt","replace","userClickedInput","userClickedInputFn","submitMessageFn","placeholder","onKeyUp","onFocus","ChatTextBox","Dashbord_Style","signOutBtn","Dashbord_firebase","Dashbord_DashboardComponent","DashboardComponent","signOut","msg","selectedChat","update","FieldValue","arrayUnion","timestamp","Date","now","friend","newChatBtnClicked","newChatFormVisible","newChatSubmit","chatObj","_ref2","chatIndex","messageRead","_x2","_ref3","usersInChat","find","every","indexOf","_x3","_x4","clickedMessageWhereNotSender","componentWillMount","onAuthStateChanged","_ref4","_callee5","_context5","where","onSnapshot","_ref5","_callee4","res","_context4","_x6","_x5","Dashbord","src_firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","routing","exact","path","render","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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"},"code":"(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{105:function(e,t,a){e.exports=a(152)},110:function(e,t,a){},152:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),s=a(10),i=a.n(s);a(110),Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(45),c=a(37),u=a(12),l=a.n(u),p=a(25),m=a(13),h=a(11),d=a(18),g=a(19),f=a(20),b=a(16),x=function(e){return{main:Object(b.a)({width:\"auto\",display:\"block\",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:\"auto\",marginRight:\"auto\"}),paper:{marginTop:8*e.spacing.unit,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",padding:\"\".concat(2*e.spacing.unit,\"px \").concat(3*e.spacing.unit,\"px \").concat(3*e.spacing.unit,\"px\")},form:{width:\"100%\",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},hasAccountHeader:{width:\"100%\"},logInLink:{width:\"100%\",textDecoration:\"none\",color:\"#303f9f\",fontWeight:\"bolder\"},errorText:{color:\"red\",textAlign:\"center\"}}},w=a(182),v=a(193),E=a(183),C=a(181),y=a(61),k=a.n(y),O=a(179),j=a(65),S=a(184),T=a(47),N=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).userTyping=function(t,a){switch(t){case\"email\":e.setState({email:a.target.value});break;case\"password\":e.setState({password:a.target.value})}},e.submitLogin=function(){var t=Object(p.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,T.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(){e.props.history.push(\"/dashbord\")}),(function(t){e.setState({serverError:!0}),console.log(\"Error logging in: \",t)}));case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={email:null,password:null,serverError:!1},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return r.a.createElement(\"main\",{className:t.main},r.a.createElement(O.a,null),r.a.createElement(C.a,{className:t.paper},r.a.createElement(j.a,{component:\"h1\",variant:\"h5\"},\"\\u0423\\u0432\\u0456\\u0439\\u0442\\u0438!\"),r.a.createElement(\"form\",{onSubmit:function(t){return e.submitLogin(t)},className:t.form},r.a.createElement(w.a,{required:!0,fullWidth:!0,margin:\"normal\"},r.a.createElement(v.a,{htmlFor:\"login-email-input\"},\"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044c \\u0441\\u0432\\u0456\\u0439 \\u0435\\u043c\\u0430\\u0456\\u043b\"),r.a.createElement(E.a,{autoComplete:\"email\",autoFocus:!0,onChange:function(t){return e.userTyping(\"email\",t)},id:\"login-email-input\"})),r.a.createElement(w.a,{required:!0,fullWidth:!0,margin:\"normal\"},r.a.createElement(v.a,{htmlFor:\"login-password-input\"},\"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044c \\u0441\\u0432\\u0456\\u0439 \\u043f\\u0430\\u0440\\u043e\\u043b\\u044c\"),r.a.createElement(E.a,{autoComplete:\"current-password\",type:\"password\",onChange:function(t){return e.userTyping(\"password\",t)},id:\"login-password-input\"})),r.a.createElement(S.a,{type:\"submit\",fullWidth:!0,variant:\"contained\",color:\"primary\",className:t.submit},\"\\u0423\\u0432\\u0456\\u0439\\u0442\\u0438\")),this.state.serverError?r.a.createElement(j.a,{className:t.errorText,component:\"h5\",variant:\"h6\"},\"\\u043d\\u0435\\u043a\\u043e\\u0440\\u0435\\u043a\\u0442\\u043d\\u0430 \\u0456\\u043d\\u0444\\u043e\\u0440\\u043c\\u0430\\u0446\\u0456\\u044f\"):null,r.a.createElement(\"h5\",{className:t.noAccountHeader},\"\\u041d\\u0435 \\u043c\\u0430\\u0454\\u0448 \\u0430\\u043a\\u0430\\u0443\\u043d\\u0442\\u0430?\"),r.a.createElement(o.b,{className:t.signUpLink,to:\"/singup\"},\"\\u0417\\u0430\\u0440\\u0435\\u0454\\u0441\\u0442\\u0440\\u0443\\u0432\\u0430\\u0442\\u0438\\u0441\\u044c!\")))}}]),t}(r.a.Component),F=k()(x)(N),I=function(e){return{main:Object(b.a)({width:\"auto\",display:\"block\",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:\"auto\",marginRight:\"auto\"}),paper:{marginTop:8*e.spacing.unit,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",padding:\"\".concat(2*e.spacing.unit,\"px \").concat(3*e.spacing.unit,\"px \").concat(3*e.spacing.unit,\"px\")},form:{width:\"100%\",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},hasAccountHeader:{width:\"100%\"},logInLink:{width:\"100%\",textDecoration:\"none\",color:\"#303f9f\",fontWeight:\"bolder\"},errorText:{color:\"red\",textAlign:\"center\"}}},W=a(47),B=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).userTyping=function(t,a){switch(t){case\"email\":e.setState({email:a.target.value});break;case\"password\":e.setState({password:a.target.value});break;case\"passwordConfirmation\":e.setState({passwordConfirmation:a.target.value})}},e.formIsValid=function(){return e.state.password===e.state.passwordConfirmation},e.submitSignup=function(t){t.preventDefault(),e.formIsValid()?W.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){var a={email:t.user.email,friends:[],messages:[]};W.firestore().collection(\"users\").doc(e.state.email).set(a).then((function(){e.props.history.push(\"/dashbord\")}),(function(t){console.log(\"Failed to add user to the database: \",t),e.setState({signupError:\"\\u041f\\u043e\\u043c\\u0438\\u043b\\u043a\\u0430 \\u043d\\u0435 \\u043c\\u043e\\u0436\\u043b\\u0438\\u0432\\u043e \\u0434\\u043e\\u0434\\u0430\\u0442\\u0438 \\u043a\\u043e\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430\"})}))}),(function(t){console.log(\"Failed to create user: \",t),e.setState({signupError:\"\\u041f\\u043e\\u043c\\u0438\\u043b\\u043a\\u0430 \\u043d\\u0435 \\u043c\\u043e\\u0436\\u043b\\u0438\\u0432\\u043e \\u0434\\u043e\\u0434\\u0430\\u0442\\u0438 \\u043a\\u043e\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430\"})})):e.setState({signupError:\"\\u041f\\u0430\\u0440\\u043e\\u043b\\u0456 \\u043d\\u0435 \\u0441\\u043f\\u0456\\u0432\\u043f\\u0430\\u0434\\u0430\\u0442\\u044c\"})},e.state={email:null,password:null,passwordConfirmation:null,signupError:\"\"},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return r.a.createElement(\"main\",{className:t.main},r.a.createElement(O.a,null),r.a.createElement(C.a,{className:t.paper},r.a.createElement(j.a,{component:\"h1\",variant:\"h5\"},\"\\u0417\\u0430\\u0440\\u0435\\u0454\\u0441\\u0442\\u0440\\u0443\\u0432\\u0430\\u0442\\u0438\\u0441\\u044c!\"),r.a.createElement(\"form\",{onSubmit:function(t){return e.submitSignup(t)},className:t.form},r.a.createElement(w.a,{required:!0,fullWidth:!0,margin:\"normal\"},r.a.createElement(v.a,{htmlFor:\"signup-email-input\"},\"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044c \\u0441\\u0432\\u0456\\u0439 \\u0435\\u043c\\u0430\\u0456\\u043b\"),r.a.createElement(E.a,{autoComplete:\"email\",autoFocus:!0,onChange:function(t){return e.userTyping(\"email\",t)},id:\"signup-email-input\"})),r.a.createElement(w.a,{required:!0,fullWidth:!0,margin:\"normal\"},r.a.createElement(v.a,{htmlFor:\"signup-password-input\"},\"\\u041f\\u0440\\u0438\\u0434\\u0443\\u043c\\u0430\\u0439\\u0442\\u0435 \\u043f\\u0430\\u0440\\u043e\\u043b\\u044c\"),r.a.createElement(E.a,{type:\"password\",onChange:function(t){return e.userTyping(\"password\",t)},id:\"signup-password-input\"})),r.a.createElement(w.a,{required:!0,fullWidth:!0,margin:\"normal\"},r.a.createElement(v.a,{htmlFor:\"signup-password-confirmation-input\"},\"\\u041f\\u043e\\u0432\\u0442\\u043e\\u0440\\u0456\\u0442\\u044c \\u0441\\u0432\\u0456\\u0439 \\u043f\\u0430\\u0440\\u043e\\u043b\\u044c\"),r.a.createElement(E.a,{type:\"password\",onChange:function(t){return e.userTyping(\"passwordConfirmation\",t)},id:\"signup-password-confirmation-input\"})),r.a.createElement(S.a,{type:\"submit\",fullWidth:!0,variant:\"contained\",color:\"primary\",className:t.submit},\"Submit\")),this.state.signupError?r.a.createElement(j.a,{className:t.errorText,component:\"h5\",variant:\"h6\"},this.state.signupError):null,r.a.createElement(\"h5\",{className:t.hasAccountHeader},\"\\u0412\\u0436\\u0435 \\u043c\\u0430\\u0454\\u0448 \\u0430\\u043a\\u0430\\u0443\\u043d\\u0442?\"),r.a.createElement(o.b,{className:t.logInLink,to:\"/\"},\"\\u0423\\u0432\\u0456\\u0439\\u0442\\u0438!\")))}}]),t}(r.a.Component),D=k()(I)(B),R=a(5),A=function(e){return{main:Object(b.a)({width:\"auto\",display:\"block\",marginLeft:3*e.spacing(),marginRight:3*e.spacing()},e.breakpoints.up(400+3*e.spacing()*2),{width:400,marginLeft:\"auto\",marginRight:\"auto\"}),paper:{padding:\"\".concat(2*e.spacing(),\"px \").concat(3*e.spacing(),\"px \").concat(3*e.spacing(),\"px\"),position:\"absolute\",width:\"350px\",top:\"50px\",left:\"calc(50% + 150px - 175px)\"},input:{},form:{width:\"100%\",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing()},errorText:{color:\"red\",textAlign:\"center\"}}},L=a(47),M=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).userTyping=function(t,a){switch(t){case\"username\":e.setState({username:a.target.value});break;case\"message\":e.setState({message:a.target.value})}},e.submitNewChat=function(){var t=Object(p.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.userExists();case 3:if(!t.sent){t.next=9;break}return t.next=7,e.chatExists();case 7:t.sent?e.goToChat():e.createChat();case 9:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.buildDocKey=function(){return[L.auth().currentUser.email,e.state.username].sort().join(\":\")},e.createChat=function(){e.props.newChatSubmitFn({sendTo:e.state.username,message:e.state.message})},e.goToChat=function(){return e.props.goToChatFn(e.buildDocKey(),e.state.message)},e.chatExists=Object(p.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.buildDocKey(),t.next=3,L.firestore().collection(\"chats\").doc(a).get();case 3:return n=t.sent,console.log(n.exists),t.abrupt(\"return\",n.exists);case 6:case\"end\":return t.stop()}}),t)}))),e.userExists=Object(p.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.firestore().collection(\"users\").get();case 2:return a=t.sent,n=a.docs.map((function(e){return e.data().email})).includes(e.state.username),e.setState({serverError:!n}),t.abrupt(\"return\",n);case 6:case\"end\":return t.stop()}}),t)}))),e.state={username:null,message:null},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return r.a.createElement(\"main\",{className:t.main},r.a.createElement(O.a,null),r.a.createElement(C.a,{className:t.paper},r.a.createElement(j.a,{component:\"h1\",variant:\"h5\"},\"\\u0417\\u043d\\u0430\\u0439\\u0442\\u0438 \\u043a\\u043e\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430!\"),r.a.createElement(\"form\",{className:t.form,onSubmit:function(t){return e.submitNewChat(t)}},r.a.createElement(w.a,{fullWidth:!0},r.a.createElement(v.a,{htmlFor:\"new-chat-username\"},\"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044c \\u0435\\u043c\\u0430\\u0456\\u043b \\u043a\\u043e\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430\"),r.a.createElement(E.a,{required:!0,className:t.input,autoFocus:!0,onChange:function(t){return e.userTyping(\"username\",t)},id:\"new-chat-username\"})),r.a.createElement(w.a,{fullWidth:!0},r.a.createElement(v.a,{htmlFor:\"new-chat-message\"},\"\\u0412\\u0430\\u0448\\u0435 \\u043f\\u043e\\u0432\\u0456\\u0434\\u043e\\u043c\\u043b\\u0435\\u043d\\u043d\\u044f\"),r.a.createElement(E.a,{required:!0,className:t.input,onChange:function(t){return e.userTyping(\"message\",t)},id:\"new-chat-message\"})),r.a.createElement(S.a,{fullWidth:!0,variant:\"contained\",color:\"primary\",className:t.submit,type:\"submit\"},\"\\u0412\\u0456\\u0434\\u043f\\u0440\\u0430\\u0432\\u0438\\u0442\\u0438\")),this.state.serverError?r.a.createElement(j.a,{component:\"h5\",variant:\"h6\",className:t.errorText},\"\\u0442\\u0430\\u043a\\u043e\\u0433\\u043e \\u043a\\u043e\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430 \\u043d\\u0435 \\u0456\\u0441\\u043d\\u0443\\u0454\"):null))}},{key:\"componentWillMount\",value:function(){L.auth().currentUser||this.props.history.push(\"/login\")}}]),t}(r.a.Component),V=Object(R.a)(A)(M),H=a(185),z=a(186),K=a(188),U=a(187),q=a(192),G=function(e){return{root:{backgroundColor:e.palette.background.paper,height:\"calc(100% - 35px)\",position:\"absolute\",left:\"0\",width:\"300px\",boxShadow:\"0px 0px 2px black\"},listItem:{cursor:\"pointer\"},newChatBtn:{borderRadius:\"0px\"},unreadMessage:{color:\"red\",position:\"absolute\",top:\"0\",right:\"5px\"}}},P=a(190),J=a(189),Q=a(92),Y=a.n(Q),$=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).userIsSender=function(e){return e.messages[e.messages.length-1].sender===a.props.userEmail},a.newChat=function(){return a.props.newChatBtnFn()},a.selectChat=function(e){return a.props.selectChatFn(e)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return this.props.chats.length>0?r.a.createElement(\"div\",{className:t.root},r.a.createElement(S.a,{variant:\"contained\",fullWidth:!0,color:\"primary\",onClick:this.newChat,className:t.newChatBtn},\"\\u0417\\u043d\\u0430\\u0439\\u0442\\u0438 \\u041a\\u043e\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430\"),r.a.createElement(H.a,null,this.props.chats.map((function(a,n){return r.a.createElement(\"div\",{key:n},r.a.createElement(z.a,{onClick:function(){return e.selectChat(n)},className:t.listItem,selected:e.props.selectedChatIndex===n,alignItems:\"flex-start\"},r.a.createElement(U.a,null,r.a.createElement(q.a,{alt:\"Remy Sharp\"},a.users.filter((function(t){return t!==e.props.userEmail}))[0].split(\"\")[0])),r.a.createElement(K.a,{primary:a.users.filter((function(t){return t!==e.props.userEmail}))[0],secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{component:\"span\",color:\"textPrimary\"},a.messages[a.messages.length-1].message.substring(0,30)+\" ...\"))}),!1!==a.receiverHasRead||e.userIsSender(a)?null:r.a.createElement(J.a,null,r.a.createElement(Y.a,{className:t.unreadMessage}))),r.a.createElement(P.a,null))})))):r.a.createElement(\"div\",{className:t.root},r.a.createElement(S.a,{variant:\"contained\",fullWidth:!0,color:\"primary\",onClick:this.newChat,className:t.newChatBtn},\"\\u0417\\u043d\\u0430\\u0439\\u0442\\u0438 \\u043a\\u043e\\u0440\\u0438\\u0441\\u0442\\u0443\\u0432\\u0430\\u0447\\u0430\"),r.a.createElement(H.a,null))}}]),t}(r.a.Component),_=Object(R.a)(G)($),X=function(e){return{content:{height:\"calc(100vh - 100px)\",overflow:\"auto\",padding:\"25px\",marginLeft:\"300px\",boxSizing:\"border-box\",overflowY:\"scroll\",top:\"50px\",width:\"calc(100% - 300px)\",position:\"absolute\"},userSent:{float:\"left\",clear:\"both\",padding:\"20px\",boxSizing:\"border-box\",wordWrap:\"break-word\",marginTop:\"10px\",backgroundColor:\"#707BC4\",color:\"white\",width:\"300px\",borderRadius:\"10px\"},friendSent:{float:\"right\",clear:\"both\",padding:\"20px\",boxSizing:\"border-box\",wordWrap:\"break-word\",marginTop:\"10px\",backgroundColor:\"#707BC4\",color:\"white\",width:\"300px\",borderRadius:\"10px\"},chatHeader:{width:\"calc(100% - 301px)\",height:\"50px\",backgroundColor:\"#344195\",position:\"fixed\",marginLeft:\"301px\",fontSize:\"18px\",textAlign:\"center\",color:\"white\",paddingTop:\"10px\",boxSizing:\"border-box\"}}},Z=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=document.getElementById(\"chatview-container\");e&&e.scrollTo(0,e.scrollHeight)},a.componentDidUpdate=function(){var e=document.getElementById(\"chatview-container\");e&&e.scrollTo(0,e.scrollHeight)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return void 0===this.props.chat?r.a.createElement(\"main\",{className:t.content}):void 0!==this.props.chat?r.a.createElement(\"div\",null,r.a.createElement(\"div\",{className:t.chatHeader},\"\\u043f\\u0435\\u0440\\u0435\\u043f\\u0438\\u0441\\u043a\\u0430 \\u0437:\",this.props.chat.users.filter((function(t){return t!==e.props.user}))[0]),r.a.createElement(\"main\",{id:\"chatview-container\",className:t.content},this.props.chat.messages.map((function(a,n){return r.a.createElement(\"div\",{key:n,className:a.sender===e.props.user?t.userSent:t.friendSent},a.message)})))):r.a.createElement(\"div\",{className:\"chatview-container\"},\"Loading...\")}}]),t}(r.a.Component),ee=Object(R.a)(X)(Z),te=a(191),ae=a(95),ne=a.n(ae),re=function(e){return{sendBtn:{color:\"blue\",cursor:\"pointer\",\"&:hover\":{color:\"gray\"}},chatTextBoxContainer:{position:\"absolute\",bottom:\"15px\",left:\"315px\",boxSizing:\"border-box\",overflow:\"auto\",width:\"calc(100% - 300px - 50px)\"},chatTextBox:{width:\"calc(100% - 25px)\"}}},se=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).userTyping=function(t){return 13===t.keyCode?e.submitMessage():e.setState({chatText:t.target.value})},e.messageValid=function(e){return e&&e.replace(/\\s/g,\"\").length},e.userClickedInput=function(){return e.props.userClickedInputFn()},e.submitMessage=function(){e.messageValid(e.state.chatText)&&(e.props.submitMessageFn(e.state.chatText),document.getElementById(\"chattextbox\").value=\"\")},e.state={chatText:\"\"},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return r.a.createElement(\"div\",{className:t.chatTextBoxContainer},r.a.createElement(te.a,{placeholder:\"\\u041d\\u0430\\u043f\\u0438\\u0448\\u0456\\u0442\\u044c \\u0441\\u0432\\u043e\\u0454 \\u043f\\u043e\\u0432\\u0456\\u0434\\u043e\\u043c\\u043b\\u0435\\u043d\\u043d\\u044f..\",onKeyUp:function(t){return e.userTyping(t)},id:\"chattextbox\",className:t.chatTextBox,onFocus:this.userClickedInput}),r.a.createElement(ne.a,{onClick:this.submitMessage,className:t.sendBtn}))}}]),t}(r.a.Component),ie=Object(R.a)(re)(se),oe=function(e){return{signOutBtn:{position:\"absolute\",bottom:\"0px\",left:\"0px\",width:\"300px\",borderRadius:\"0px\",backgroundColor:\"#227092\",height:\"35px\",boxShadow:\"0px 0px 2px black\",color:\"white\"}}},ce=a(47),ue=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).signOut=function(){return ce.auth().signOut()},e.submitMessage=function(t){var a=e.buildDocKey(e.state.chats[e.state.selectedChat].users.filter((function(t){return t!==e.state.email}))[0]);ce.firestore().collection(\"chats\").doc(a).update({messages:ce.firestore.FieldValue.arrayUnion({sender:e.state.email,message:t,timestamp:Date.now()}),receiverHasRead:!1})},e.buildDocKey=function(t){return[e.state.email,t].sort().join(\":\")},e.newChatBtnClicked=function(){return e.setState({newChatFormVisible:!0,selectedChat:null})},e.newChatSubmit=function(){var t=Object(p.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.buildDocKey(a.sendTo),t.next=3,ce.firestore().collection(\"chats\").doc(n).set({messages:[{message:a.message,sender:e.state.email}],users:[e.state.email,a.sendTo],receiverHasRead:!1});case 3:e.setState({newChatFormVisible:!1}),e.selectChat(e.state.chats.length-1);case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectChat=function(){var t=Object(p.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({selectedChat:a,newChatFormVisible:!1});case 2:e.messageRead();case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.goToChat=function(){var t=Object(p.a)(l.a.mark((function t(a,n){var r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.split(\":\"),s=e.state.chats.find((function(e){return r.every((function(t){return e.users.includes(t)}))})),e.setState({newChatFormVisible:!1}),t.next=5,e.selectChat(e.state.chats.indexOf(s));case 5:e.submitMessage(n);case 6:case\"end\":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.messageRead=function(){var t=e.state.selectedChat,a=e.buildDocKey(e.state.chats[t].users.filter((function(t){return t!==e.state.email}))[0]);e.clickedMessageWhereNotSender(t)?ce.firestore().collection(\"chats\").doc(a).update({receiverHasRead:!0}):console.log(\"Clicked message where the user was the sender\")},e.clickedMessageWhereNotSender=function(t){return e.state.chats[t].messages[e.state.chats[t].messages.length-1].sender!==e.state.email},e.componentWillMount=function(){ce.auth().onAuthStateChanged(function(){var t=Object(p.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=4;break}e.props.history.push(\"/\"),t.next=6;break;case 4:return t.next=6,ce.firestore().collection(\"chats\").where(\"users\",\"array-contains\",a.email).onSnapshot(function(){var t=Object(p.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.docs.map((function(e){return e.data()})),t.next=3,e.setState({email:a.email,chats:r,friends:[]});case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.state={selectedChat:null,newChatFormVisible:!1,email:null,friends:[],chats:[]},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:\"render\",value:function(){var e=this.props.classes;return this.state.email?r.a.createElement(\"div\",{className:\"dashboard-container\",id:\"dashboard-container\"},r.a.createElement(_,{history:this.props.history,userEmail:this.state.email,selectChatFn:this.selectChat,chats:this.state.chats,selectedChatIndex:this.state.selectedChat,newChatBtnFn:this.newChatBtnClicked}),this.state.newChatFormVisible?null:r.a.createElement(ee,{user:this.state.email,chat:this.state.chats[this.state.selectedChat]}),null===this.state.selectedChat||this.state.newChatFormVisible?null:r.a.createElement(ie,{userClickedInputFn:this.messageRead,submitMessageFn:this.submitMessage}),this.state.newChatFormVisible?r.a.createElement(V,{goToChatFn:this.goToChat,newChatSubmitFn:this.newChatSubmit}):null,r.a.createElement(S.a,{onClick:this.signOut,className:e.signOutBtn},\"\\u0412\\u0438\\u0439\\u0442\\u0438\")):r.a.createElement(\"div\",null,\"LOADING....\")}}]),t}(r.a.Component),le=Object(R.a)(oe)(ue),pe=a(47);a(151),pe.initializeApp({apiKey:\"AIzaSyAgzoNF3pGGc_5QksGWMhxRIQuVoFD-VvI\",authDomain:\"chat-21f4e.firebaseapp.com\",databaseURL:\"https://chat-21f4e.firebaseio.com\",projectId:\"chat-21f4e\",storageBucket:\"chat-21f4e.appspot.com\",messagingSenderId:\"553569046771\",appId:\"1:553569046771:web:f0d7cef73b8c0861816786\"});var me=r.a.createElement(o.a,null,r.a.createElement(\"div\",{id:\"routing-container\"},r.a.createElement(c.a,{exact:!0,path:\"/\",component:F}),r.a.createElement(c.a,{path:\"/singup\",component:D}),r.a.createElement(c.a,{path:\"/dashbord\",component:le})));i.a.render(me,document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[105,1,2]]]);","extractedComments":[]}